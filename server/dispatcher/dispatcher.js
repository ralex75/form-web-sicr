(function(e, a) { for(var i in a) e[i] = a[i]; }(this, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./app/dispatcher.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../api/db":
/*!****************************!*\
  !*** external "../api/db" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"../api/db\"]; }());\n\n//# sourceURL=webpack:///external_%22../api/db%22?");

/***/ }),

/***/ "../api/mailer":
/*!********************************!*\
  !*** external "../api/mailer" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"../api/mailer\"]; }());\n\n//# sourceURL=webpack:///external_%22../api/mailer%22?");

/***/ }),

/***/ "./../api/user":
/*!********************************!*\
  !*** external "./../api/user" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"./../api/user\"]; }());\n\n//# sourceURL=webpack:///external_%22./../api/user%22?");

/***/ }),

/***/ "./app/dispatcher.ts":
/*!***************************!*\
  !*** ./app/dispatcher.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar moment_1 = __importDefault(__webpack_require__(/*! moment */ \"moment\"));\r\nvar report_1 = __webpack_require__(/*! ./reports/report */ \"./app/reports/report.ts\");\r\nvar factory_repo_1 = __webpack_require__(/*! ./reports/factory.repo */ \"./app/reports/factory.repo.ts\");\r\nvar processor_1 = __webpack_require__(/*! ./processors/processor */ \"./app/processors/processor.ts\");\r\nvar helpers_1 = __webpack_require__(/*! ./helpers */ \"./app/helpers.ts\");\r\nvar getUser = __webpack_require__(/*! ./../api/user */ \"./../api/user\").getUser;\r\nexports.ReadRequests = function () {\r\n    helpers_1.helpers.READ_ALL_REQUESTS().then(function (data) {\r\n        data.forEach(function (r) {\r\n            console.log(\"rid:\", r.id);\r\n            handleRequest(r);\r\n        });\r\n    });\r\n};\r\nvar handleRequest = function (r) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var id, uid, rtype, data, report, errors, times, args, user, processor, exc_1, basicrepo, advrepo, mailSubj, subj, exc_2, errTxt, to;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    id = r.id, uid = r.uid, rtype = r.rtype, data = r.data;\r\n                    report = null;\r\n                    errors = [];\r\n                    times = { \"notific\": null, \"process\": null };\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 9, 10, 11]);\r\n                    if (!uid || !rtype || !data) {\r\n                        args = { \"uid\": uid, \"type\": rtype, \"data\": data };\r\n                        throw new Error(\"Invalid request data, missing some arguments\");\r\n                    }\r\n                    return [4 /*yield*/, getUser(uid)];\r\n                case 2:\r\n                    user = _a.sent();\r\n                    processor = null;\r\n                    _a.label = 3;\r\n                case 3:\r\n                    _a.trys.push([3, 5, , 6]);\r\n                    //inizializza il processatore di richiesta\r\n                    processor = processor_1.ProcessRequest.initialize(rtype, user, data);\r\n                    console.log(\"Processing Request ID: \" + id + \" - \" + rtype);\r\n                    return [4 /*yield*/, processor.exec()];\r\n                case 4:\r\n                    //gestione automatica della richiesta (se implementato)\r\n                    //ritorna oggetto di tipo report (wifi,account o IP)\r\n                    report = _a.sent();\r\n                    console.log(\"Processed Request ID: \" + id + \" - \" + rtype);\r\n                    if (report.processResult && report.processResult.getStatus() == processor_1.ProcessResultStatus.BAD) {\r\n                        throw new Error(report.processResult.getValue());\r\n                    }\r\n                    return [3 /*break*/, 6];\r\n                case 5:\r\n                    exc_1 = _a.sent();\r\n                    errors.push({ \"type\": \"process\", \"value\": (exc_1.message || JSON.stringify(exc_1)) });\r\n                    return [3 /*break*/, 6];\r\n                case 6:\r\n                    //se l'oggetto report non Ã¨ stato creato (il process.exec ha generato errore)\r\n                    //dobbiamo comunque inviare i dati di report utente e supporto\r\n                    if (!report) {\r\n                        report = factory_repo_1.ReportFactory.initialize(rtype, user, data);\r\n                    }\r\n                    return [4 /*yield*/, report.renderAs(report_1.RenderType.BASIC)];\r\n                case 7:\r\n                    basicrepo = _a.sent();\r\n                    return [4 /*yield*/, report.renderAs(report_1.RenderType.ADVANCED)];\r\n                case 8:\r\n                    advrepo = _a.sent();\r\n                    mailSubj = \"Richiesta ID \" + id + \" - \" + rtype;\r\n                    subj = report.getSubject();\r\n                    if (subj != \"\") {\r\n                        mailSubj = mailSubj += \" - \" + subj;\r\n                    }\r\n                    //Invia Report all'utente \r\n                    helpers_1.helpers.sendReport(user.email, mailSubj, basicrepo);\r\n                    //Invia Report al servizio \r\n                    helpers_1.helpers.sendReport(user.email, mailSubj + \" -- Riservata Supporto --\", advrepo);\r\n                    times.notific = moment_1.default();\r\n                    return [3 /*break*/, 11];\r\n                case 9:\r\n                    exc_2 = _a.sent();\r\n                    errors.push({ \"type\": \"request\", \"value\": (exc_2.message || JSON.stringify(exc_2)) });\r\n                    return [3 /*break*/, 11];\r\n                case 10:\r\n                    times.process = moment_1.default();\r\n                    errTxt = null;\r\n                    if (errors.length > 0) {\r\n                        errTxt = JSON.stringify(errors);\r\n                        to = user ? user.email : \"alessandro.ruggieri@roma1.infn.it\";\r\n                        helpers_1.helpers.sendReport(to, \"Errore elaborazione richiesta  ID - \" + r.id + \" - Type - \" + r.rtype, errTxt);\r\n                    }\r\n                    helpers_1.helpers.setDispatchResult(id, times.notific, times.process, errTxt);\r\n                    return [7 /*endfinally*/];\r\n                case 11: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n};\r\n\n\n//# sourceURL=webpack:///./app/dispatcher.ts?");

/***/ }),

/***/ "./app/helpers.ts":
/*!************************!*\
  !*** ./app/helpers.ts ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar nqdb = __webpack_require__(/*! ../api/db */ \"../api/db\").nqdb;\r\nvar sendMail = __webpack_require__(/*! ../api/mailer */ \"../api/mailer\").sendMail;\r\nvar helpers = {\r\n    getPortLocation: function (port_code) {\r\n        return new Promise(function (resolve) {\r\n            nqdb.any('select loc_id ,loc_building as \"build\",loc_floor as \"floor\",\\\n            loc_name as \"room\",pp_port_alias as \"port_alias\" from vw_network_status_ex_3 where pp_port_code=$1 or pp_port_alias=$1 limit 1', [port_code])\r\n                .then(function (res) {\r\n                resolve(res[0] || null);\r\n            });\r\n        });\r\n    },\r\n    getPortNetwork: function (port_code) {\r\n        return new Promise(function (resolve) {\r\n            var nc_code = (port_code.split(\"-\")[1]);\r\n            nqdb.any('select network from network_closet nc, vlan_network vn \\\n                    where nc.nc_code=$1 and nc.vlan=vn.vlan', [nc_code])\r\n                .then(function (res) {\r\n                resolve(res[0] || null);\r\n            });\r\n        });\r\n    },\r\n    addEmptySpacesToEnd: function (spaces, value) {\r\n        var rep = spaces - value.length;\r\n        rep = rep < 0 ? 0 : rep;\r\n        return value + \" \".repeat(rep);\r\n    },\r\n    READ_ALL_REQUESTS: function () {\r\n        return nqdb.query(\"select * from user_requests where status ='SUBMITTED'\");\r\n    },\r\n    setDispatchResult: function (rid, notific, process, error) {\r\n        var status = !error ? \"PROCESSED\" : \"BAD\";\r\n        nqdb.query(\"update user_requests set notific_date=$1,process_date=$2,exc=$3,status=$5 where id=$4\", [notific, process, error, rid, status])\r\n            .then(function (resp) {\r\n        }).catch(function (err) {\r\n            console.log(\"An error has occurred:\");\r\n            throw (err);\r\n        });\r\n    },\r\n    sendReport: function (email, subj, report) {\r\n        sendMail(email, subj, \"<pre>\" + report + \"</pre>\");\r\n    }\r\n};\r\nexports.helpers = helpers;\r\n\n\n//# sourceURL=webpack:///./app/helpers.ts?");

/***/ }),

/***/ "./app/processors/processor.ts":
/*!*************************************!*\
  !*** ./app/processors/processor.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar moment_1 = __importDefault(__webpack_require__(/*! moment */ \"moment\"));\r\nvar axios = __webpack_require__(/*! axios */ \"axios\");\r\nvar wifi_repo_1 = __webpack_require__(/*! ../reports/wifi.repo */ \"./app/reports/wifi.repo.ts\");\r\nvar ip_repo_1 = __webpack_require__(/*! ../reports/ip.repo */ \"./app/reports/ip.repo.ts\");\r\nvar acc_repo_1 = __webpack_require__(/*! ../reports/acc.repo */ \"./app/reports/acc.repo.ts\");\r\nvar ProcessResultStatus;\r\n(function (ProcessResultStatus) {\r\n    ProcessResultStatus[ProcessResultStatus[\"OK\"] = 0] = \"OK\";\r\n    ProcessResultStatus[ProcessResultStatus[\"BAD\"] = 1] = \"BAD\";\r\n})(ProcessResultStatus || (ProcessResultStatus = {}));\r\nexports.ProcessResultStatus = ProcessResultStatus;\r\nvar ProcessResult = /** @class */ (function () {\r\n    function ProcessResult(status, value) {\r\n        this._status = status;\r\n        this._value = value;\r\n    }\r\n    ProcessResult.prototype.getStatus = function () {\r\n        return this._status;\r\n    };\r\n    ProcessResult.prototype.getValue = function () {\r\n        return this._value;\r\n    };\r\n    ProcessResult.prototype.render = function () {\r\n        return JSON.stringify(this._value);\r\n    };\r\n    return ProcessResult;\r\n}());\r\nvar ProcessResultOK = /** @class */ (function (_super) {\r\n    __extends(ProcessResultOK, _super);\r\n    function ProcessResultOK(value) {\r\n        return _super.call(this, ProcessResultStatus.OK, value) || this;\r\n    }\r\n    return ProcessResultOK;\r\n}(ProcessResult));\r\nvar ProcessResultBAD = /** @class */ (function (_super) {\r\n    __extends(ProcessResultBAD, _super);\r\n    function ProcessResultBAD(value) {\r\n        return _super.call(this, ProcessResultStatus.BAD, value) || this;\r\n    }\r\n    return ProcessResultBAD;\r\n}(ProcessResult));\r\nvar ProcessRequest = /** @class */ (function () {\r\n    function ProcessRequest(user, data) {\r\n        this.user = user;\r\n        this.data = data;\r\n        if (!this.isValidData(data)) {\r\n            throw new Error(\"Missing required request data fields:\" + JSON.stringify(data) || false);\r\n        }\r\n        ;\r\n    }\r\n    ProcessRequest.initialize = function (type, user, data) {\r\n        switch (type) {\r\n            case \"IP\":\r\n                return new IP_Processor(user, data);\r\n                break;\r\n            case \"WIFI\":\r\n                return new WiFi_Processor(user, data);\r\n                break;\r\n            case \"ACCOUNT\":\r\n                return new Account_Processor(user, data);\r\n                break;\r\n            default:\r\n                throw Error(\"No request handler for request type:\" + type);\r\n        }\r\n    };\r\n    return ProcessRequest;\r\n}());\r\nexports.ProcessRequest = ProcessRequest;\r\nvar WiFi_Processor = /** @class */ (function (_super) {\r\n    __extends(WiFi_Processor, _super);\r\n    function WiFi_Processor() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WiFi_Processor.prototype.isValidData = function (_a) {\r\n        var _b = _a.from, from = _b === void 0 ? null : _b, _c = _a.to, to = _c === void 0 ? null : _c;\r\n        return !!from && !!to;\r\n    };\r\n    WiFi_Processor.prototype.exec = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var user, data, processResult, payload, res, exc_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        user = this.user;\r\n                        data = Object.assign({}, this.data);\r\n                        processResult = null;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 4, , 5]);\r\n                        payload = { \"name\": user.name,\r\n                            \"surname\": user.surname,\r\n                            \"email\": user.email,\r\n                            \"phone\": user.phone,\r\n                            \"start\": moment_1.default(data.from).format(\"YYYY-MM-DD\"),\r\n                            \"end\": moment_1.default(data.to).format(\"YYYY-MM-DD\") };\r\n                        return [4 /*yield*/, axios.post(\"http://localhost:5000/api/users/create\", { \"user\": payload })\r\n                            //invia mail usando wifiguests api\r\n                        ];\r\n                    case 2:\r\n                        res = _a.sent();\r\n                        //invia mail usando wifiguests api\r\n                        return [4 /*yield*/, axios.post(\"http://localhost:5000/api/mail/user\", { \"uid\": res.data.id })];\r\n                    case 3:\r\n                        //invia mail usando wifiguests api\r\n                        _a.sent();\r\n                        processResult = new ProcessResultOK(res.data);\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        exc_1 = _a.sent();\r\n                        processResult = new ProcessResultBAD(exc_1);\r\n                        return [3 /*break*/, 5];\r\n                    case 5: return [2 /*return*/, new wifi_repo_1.WiFiReport(this.user, this.data, processResult)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return WiFi_Processor;\r\n}(ProcessRequest));\r\nvar IP_Processor = /** @class */ (function (_super) {\r\n    __extends(IP_Processor, _super);\r\n    function IP_Processor() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    IP_Processor.prototype.isValidData = function (data) {\r\n        //Check data\r\n        return true;\r\n    };\r\n    IP_Processor.prototype.exec = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var user, data;\r\n            return __generator(this, function (_a) {\r\n                user = this.user;\r\n                data = this.data;\r\n                return [2 /*return*/, new ip_repo_1.IPReport(user, data)];\r\n            });\r\n        });\r\n    };\r\n    return IP_Processor;\r\n}(ProcessRequest));\r\nvar Account_Processor = /** @class */ (function (_super) {\r\n    __extends(Account_Processor, _super);\r\n    function Account_Processor() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Account_Processor.prototype.isValidData = function (data) {\r\n        //Check data\r\n        return true;\r\n    };\r\n    Account_Processor.prototype.exec = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var user, data;\r\n            return __generator(this, function (_a) {\r\n                user = this.user;\r\n                data = this.data;\r\n                return [2 /*return*/, new acc_repo_1.AccountReport(user, data)];\r\n            });\r\n        });\r\n    };\r\n    return Account_Processor;\r\n}(ProcessRequest));\r\n\n\n//# sourceURL=webpack:///./app/processors/processor.ts?");

/***/ }),

/***/ "./app/reports/acc.repo.ts":
/*!*********************************!*\
  !*** ./app/reports/acc.repo.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar report_1 = __webpack_require__(/*! ./report */ \"./app/reports/report.ts\");\r\nvar AccountReport = /** @class */ (function (_super) {\r\n    __extends(AccountReport, _super);\r\n    function AccountReport() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AccountReport.prototype.getTemplateFileName = function () {\r\n        return \"account.txt\";\r\n    };\r\n    AccountReport.prototype.mapBasicData = function (user, data) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            var map;\r\n            return __generator(this, function (_a) {\r\n                map = {\r\n                    \"NAME\": data.name,\r\n                    \"SURNAME\": data.surname,\r\n                    \"EMAIL\": data.email || '---',\r\n                    \"PHONE\": data.phone || '---',\r\n                    \"EXPIRATION\": data.expiration,\r\n                    \"INFNUUID\": data.uuid,\r\n                    \"ROLE\": data.role\r\n                };\r\n                return [2 /*return*/, map];\r\n            });\r\n        });\r\n    };\r\n    AccountReport.prototype.mapAdvancedData = function (user, data) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            var txt, map;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        txt = \"\";\r\n                        return [4 /*yield*/, this.mapBasicData(user, data)];\r\n                    case 1:\r\n                        map = _a.sent();\r\n                        /*\r\n                        txt=\"=====================  Esito esecuzione automatica  ====================<br>\"\r\n                \r\n                        //var procResultData:string=map[\"processResult\"] || null;\r\n                        console.log(\"pr:\",this.processResult);\r\n                        if (this.processResult && this.processResult.status=='OK')\r\n                        {\r\n                            txt+= JSON.stringify(this.processResult.value);\r\n                        }\r\n                        else{\r\n                            txt=\"NON GESTITA\"\r\n                        }\r\n                \r\n                        map[\"[ADDITIONAL_DATA]\"]=txt;*/\r\n                        return [2 /*return*/, map];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return AccountReport;\r\n}(report_1.Report));\r\nexports.AccountReport = AccountReport;\r\n\n\n//# sourceURL=webpack:///./app/reports/acc.repo.ts?");

/***/ }),

/***/ "./app/reports/factory.repo.ts":
/*!*************************************!*\
  !*** ./app/reports/factory.repo.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar wifi_repo_1 = __webpack_require__(/*! ./wifi.repo */ \"./app/reports/wifi.repo.ts\");\r\nvar ip_repo_1 = __webpack_require__(/*! ./ip.repo */ \"./app/reports/ip.repo.ts\");\r\nvar acc_repo_1 = __webpack_require__(/*! ./acc.repo */ \"./app/reports/acc.repo.ts\");\r\nvar ReportFactory = /** @class */ (function () {\r\n    function ReportFactory() {\r\n    }\r\n    ReportFactory.initialize = function (type, user, data) {\r\n        switch (type) {\r\n            case \"IP\":\r\n                return new ip_repo_1.IPReport(user, data);\r\n                break;\r\n            case \"WIFI\":\r\n                return new wifi_repo_1.WiFiReport(user, data);\r\n                break;\r\n            case \"ACCOUNT\":\r\n                return new acc_repo_1.AccountReport(user, data);\r\n                break;\r\n            default:\r\n                throw Error(\"Invalid Request type\");\r\n        }\r\n    };\r\n    return ReportFactory;\r\n}());\r\nexports.ReportFactory = ReportFactory;\r\n\n\n//# sourceURL=webpack:///./app/reports/factory.repo.ts?");

/***/ }),

/***/ "./app/reports/ip.repo.ts":
/*!********************************!*\
  !*** ./app/reports/ip.repo.ts ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar report_1 = __webpack_require__(/*! ./report */ \"./app/reports/report.ts\");\r\nvar helpers_1 = __webpack_require__(/*! ../helpers */ \"./app/helpers.ts\");\r\nvar IPReport = /** @class */ (function (_super) {\r\n    __extends(IPReport, _super);\r\n    function IPReport() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    IPReport.prototype.getTemplateFileName = function () {\r\n        return \"ip.txt\";\r\n    };\r\n    IPReport.prototype.mapBasicData = function (user, data) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            var from, to, action, h, hostname, HOST_ACTION_MAP, HOST_CONFIG_MAP, loc, map;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        from = data.from, to = data.to, action = data.action;\r\n                        h = to || from;\r\n                        hostname = h.name ? h.name + \".\" + h.domain : \"DHCP : \" + h.mac;\r\n                        HOST_ACTION_MAP = { \"ITA\": { \"create\": \"Nuovo nodo\", \"update\": \"Aggiornamento dati del nodo\", \"delete\": \"Rimozione nodo\" },\r\n                            \"ENG\": { \"create\": \"New host\", \"update\": \"Update host data\", \"delete\": \"Delete host\" }\r\n                        };\r\n                        HOST_CONFIG_MAP = { \"STATIC\": \"STATICO\", \"DHCP\": \"DHCP\", \"STATICVM\": \"STATICO - VIRTUALE\" };\r\n                        return [4 /*yield*/, helpers_1.helpers.getPortLocation(h.port)];\r\n                    case 1:\r\n                        loc = _a.sent();\r\n                        if (!loc) {\r\n                            throw new Error(\"No location found by port: \" + h.port);\r\n                        }\r\n                        if (action == 'update') {\r\n                            hostname = from.name ? from.name + \".\" + from.domain : \"DHCP  \" + from.mac;\r\n                        }\r\n                        map = {\r\n                            \"ACTION_ITA\": HOST_ACTION_MAP.ITA[action] + \" - \" + hostname,\r\n                            \"ACTION_ENG\": HOST_ACTION_MAP.ENG[action] + \" - \" + hostname,\r\n                            \"NAME\": user.name,\r\n                            \"SURNAME\": user.surname,\r\n                            \"EMAIL\": user.email,\r\n                            \"PHONE\": user.phone,\r\n                            \"H_MAC\": h.mac,\r\n                            \"NOTE\": h.notes || \"N/A\",\r\n                            \"H_NAME\": h.name ? h.name + \".\" + h.domain : \"DHCP\",\r\n                            \"CONFIG\": HOST_CONFIG_MAP[h.config],\r\n                            \"BUILD\": loc.build,\r\n                            \"FLOOR\": loc.floor,\r\n                            \"ROOM\": loc.room,\r\n                            \"PORT\": loc.port_alias,\r\n                        };\r\n                        //usiamo per IP SUBJ= ACTION_ITA         \r\n                        map[\"SUBJ\"] = map[\"ACTION_ITA\"];\r\n                        return [2 /*return*/, map];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    IPReport.prototype.mapAdvancedData = function (user, data) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            var txt, from, to, action, h, map, network;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        txt = \"\";\r\n                        from = data.from, to = data.to, action = data.action;\r\n                        h = to || from;\r\n                        return [4 /*yield*/, this.mapBasicData(user, data)];\r\n                    case 1:\r\n                        map = _a.sent();\r\n                        network = \"N/A\";\r\n                        /*\r\n                        if(h.config!=\"DHCP\")\r\n                        {\r\n                            var net:any=await helpers.getPortNetwork(h.port);\r\n                            network = net ? net.network: \"N/A\";\r\n                         }\r\n                        else{\r\n                            network = \"141.108.13.0/24\";\r\n                        }\r\n                        */\r\n                        /* NON INSERIRE ---> MOSTRARE LE VLAN SUGGERITE DEL PIANO TODO\r\n                        txt=\"=====================  dati aggiuntivi  ====================<br>\"\r\n                        txt+=helpers.addEmptySpacesToEnd(18,\"Network suggerita\")+ \" = \"+ network;\r\n                        */\r\n                        if (this.processResult) {\r\n                            txt += \"=====================  Esito esecuzione automatica  ====================<br>\";\r\n                            txt += JSON.stringify(this.processResult.getValue());\r\n                        }\r\n                        map[\"PROCESS_RESULT\"] = txt;\r\n                        return [2 /*return*/, map];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return IPReport;\r\n}(report_1.Report));\r\nexports.IPReport = IPReport;\r\n\n\n//# sourceURL=webpack:///./app/reports/ip.repo.ts?");

/***/ }),

/***/ "./app/reports/report.ts":
/*!*******************************!*\
  !*** ./app/reports/report.ts ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/*import {WiFiReport} from './wifi.repo'\r\nimport {IPReport} from './ip.repo'\r\nimport {AccountReport} from './acc.repo'*/\r\nvar fs_1 = __importDefault(__webpack_require__(/*! fs */ \"fs\"));\r\nvar path = __webpack_require__(/*! path */ \"path\");\r\nvar RenderType;\r\n(function (RenderType) {\r\n    RenderType[RenderType[\"BASIC\"] = 0] = \"BASIC\";\r\n    RenderType[RenderType[\"ADVANCED\"] = 1] = \"ADVANCED\";\r\n})(RenderType || (RenderType = {}));\r\nexports.RenderType = RenderType;\r\nvar Report = /** @class */ (function () {\r\n    function Report(user, data, res) {\r\n        if (res === void 0) { res = null; }\r\n        this.user = null;\r\n        this.data = null;\r\n        this.processResult = null;\r\n        this.subject = \"\";\r\n        this.user = user;\r\n        this.data = data;\r\n        this.processResult = res;\r\n    }\r\n    Report.prototype.getProcessResult = function () {\r\n        return this.processResult;\r\n    };\r\n    Report.prototype.getSubject = function () {\r\n        return this.subject;\r\n    };\r\n    Report.prototype.renderAs = function (type) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            var fileName, filePath, txt, md;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        fileName = this.getTemplateFileName();\r\n                        filePath = \"server/text/\" + RenderType[type] + \"/\" + fileName;\r\n                        filePath = path.resolve(filePath.toLowerCase());\r\n                        if (!fs_1.default.existsSync(filePath)) {\r\n                            throw Error(\"Missing file template: \" + filePath);\r\n                        }\r\n                        txt = fs_1.default.readFileSync(filePath, 'utf-8');\r\n                        return [4 /*yield*/, this.mapData(this.user, this.data, type)];\r\n                    case 1:\r\n                        md = _a.sent();\r\n                        this.subject = md['SUBJ'] || \"\";\r\n                        txt = this.replaceFieldValues(txt, md);\r\n                        txt = txt.replace(/\\[USER_FULL_NAME\\]/gi, this.user.name + \" \" + this.user.surname);\r\n                        return [2 /*return*/, txt];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Report.prototype.mapData = function (user, data, repType) {\r\n        switch (repType) {\r\n            case RenderType.BASIC:\r\n                return this.mapBasicData(user, data);\r\n                break;\r\n            case RenderType.ADVANCED:\r\n                return this.mapAdvancedData(user, data);\r\n                break;\r\n        }\r\n    };\r\n    Report.prototype.replaceFieldValues = function (txt, obj) {\r\n        var _txt = txt;\r\n        for (var k in obj) {\r\n            //se nn trova la chiave e ha un valore, l'appende in coda\r\n            //if(obj[k]!=\"\" && _txt.indexOf(k)<0) _txt+=k;\r\n            //replace dei campi nel testo\r\n            _txt = _txt.replace(new RegExp(\"\\\\[\" + k + \"\\\\]\", \"g\"), obj[k]);\r\n        }\r\n        return _txt;\r\n    };\r\n    return Report;\r\n}());\r\nexports.Report = Report;\r\n\n\n//# sourceURL=webpack:///./app/reports/report.ts?");

/***/ }),

/***/ "./app/reports/wifi.repo.ts":
/*!**********************************!*\
  !*** ./app/reports/wifi.repo.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar report_1 = __webpack_require__(/*! ./report */ \"./app/reports/report.ts\");\r\nvar processor_1 = __webpack_require__(/*! ../processors/processor */ \"./app/processors/processor.ts\");\r\nvar moment_1 = __importDefault(__webpack_require__(/*! moment */ \"moment\"));\r\nvar DATE_FORMAT = \"DD/MM/YYYY\";\r\nvar WiFiReport = /** @class */ (function (_super) {\r\n    __extends(WiFiReport, _super);\r\n    function WiFiReport() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WiFiReport.prototype.getTemplateFileName = function () {\r\n        return \"wifi.txt\";\r\n    };\r\n    WiFiReport.prototype.mapBasicData = function (user, data) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            var from, to, map;\r\n            return __generator(this, function (_a) {\r\n                from = data.from, to = data.to;\r\n                map = {\r\n                    \"NAME\": user.name,\r\n                    \"SURNAME\": user.surname,\r\n                    \"EMAIL\": user.email,\r\n                    \"PHONE\": user.phone,\r\n                    \"FROM\": moment_1.default(from).format(DATE_FORMAT),\r\n                    \"TO\": moment_1.default(to).format(DATE_FORMAT),\r\n                    \"NOTES\": \"\"\r\n                };\r\n                return [2 /*return*/, map];\r\n            });\r\n        });\r\n    };\r\n    WiFiReport.prototype.mapAdvancedData = function (user, data) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            var txt, map, value;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        txt = \"\";\r\n                        return [4 /*yield*/, this.mapBasicData(user, data)];\r\n                    case 1:\r\n                        map = _a.sent();\r\n                        txt = \"=====================  <b>Esito esecuzione automatica</b>  ====================<br>\";\r\n                        //var procResultData:string=map[\"processResult\"] || null;\r\n                        console.log(\"pr:\", this.processResult);\r\n                        if (this.processResult) {\r\n                            value = JSON.stringify(this.processResult.getValue());\r\n                            txt += this.processResult.getStatus() == processor_1.ProcessResultStatus.OK ? \"\" + value : \"NON GESTITA\";\r\n                        }\r\n                        map[\"PROCESS_RESULT\"] = txt;\r\n                        return [2 /*return*/, map];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return WiFiReport;\r\n}(report_1.Report));\r\nexports.WiFiReport = WiFiReport;\r\n\n\n//# sourceURL=webpack:///./app/reports/wifi.repo.ts?");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"axios\");\n\n//# sourceURL=webpack:///external_%22axios%22?");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");\n\n//# sourceURL=webpack:///external_%22fs%22?");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"moment\");\n\n//# sourceURL=webpack:///external_%22moment%22?");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");\n\n//# sourceURL=webpack:///external_%22path%22?");

/***/ })

/******/ })));